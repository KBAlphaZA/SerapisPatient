<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SerapisPatient.Views.MainViews.MainView"
             xmlns:control="clr-namespace:SerapisPatient.Controls"
             xmlns:triggers="clr-namespace:SerapisPatient.Controls.Triggers"
             Icon="menu.png"
             Title="{Binding Title}"
             >
    <ContentPage.ToolbarItems>
        <ToolbarItem Icon="user1" Command="{Binding NavigateToProfilePageCommand }"/>
    </ContentPage.ToolbarItems>
    <Grid RowSpacing="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="10"/>
            <!--Row 0-->
            <RowDefinition Height="35"/>
            <!--Row 1-->
            <RowDefinition Height="35"/>
            <!--Row 2-->

            <RowDefinition Height="60"/>
            <!--Row 3-->
            <RowDefinition Height="60"/>
            <!--Row 4-->
            <RowDefinition Height="60"/>
            <!--Row 5-->
            <RowDefinition Height="20"/>
            <!--Row 6-->
            <RowDefinition Height="*"/>
            <!--Row 7-->
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="9*"/>
            <ColumnDefinition Width="auto"/>
        </Grid.ColumnDefinitions>
        <!--Row 0-->


        <!-- FIRST TWO LABELS-->
        <Label Text="Hi Khanyisani !" TextColor="Black" FontAttributes="Bold" FontSize="20" Grid.Column="1" Grid.Row="1"/>

        <Label  Text="Lets see how can we help you!"  TextColor="Black" FontAttributes="Bold" FontSize="20" Grid.Column="1" Grid.Row="2" />

        <!--Row 3-->

        <Frame  Grid.Row="3"  Grid.Column="1" BackgroundColor="{StaticResource SeconderyColour}" CornerRadius="25" >
            <Frame.GestureRecognizers>
                <TapGestureRecognizer
                    Command="{Binding NavigateToAppointmentPageCommand }">
                </TapGestureRecognizer>
            </Frame.GestureRecognizers>
            <Frame.Triggers>
                <EventTrigger Event="NavigateToAppointmentPageCommand ">
                    <triggers:ExpandFrameTriggerAction/>
                </EventTrigger>
            </Frame.Triggers>
            <Label TextColor="White" Text="Make An Appointment" FontAttributes="Bold" Grid.Row="3" Grid.Column="1" />
        </Frame>


        <!--Row 4-->

        <Frame x:Name="appointmentframe1" Grid.Row="4" Grid.Column="1" BackgroundColor="{StaticResource SeconderyColour}"  CornerRadius="25">
            <Frame.GestureRecognizers>
                <TapGestureRecognizer
                    Command="{Binding NavigateToDeliveryPageCommand}" >
                </TapGestureRecognizer>
            </Frame.GestureRecognizers>
            <Label TextColor="White" Text="Order Your Medication" FontAttributes="Bold" Grid.Row="4" Grid.Column="1" />
        </Frame>

        <!--Row 5-->

        <Frame x:Name="appointmentframe2" Grid.Row="5" Grid.Column="1" BackgroundColor="{StaticResource SeconderyColour}"  CornerRadius="25" >
            
            <Frame.GestureRecognizers>
                <TapGestureRecognizer
                    Command="{Binding NavigateToCameraPageCommand}">
                </TapGestureRecognizer>
            </Frame.GestureRecognizers>
            <Label TextColor="White" Text="Scan QR Code" FontAttributes="Bold" Grid.Row="3" Grid.Column="1" />
        </Frame>

        <!--Row 6-->

        <Label Text="Notice Board: " TextColor="Black" FontAttributes="Bold" FontSize="20" Grid.Column="1" Grid.Row="6"/>

        <!--Row 7-->

        <control:HorizontalListView ItemsSource="{Binding Notifications}"
                                    HorizontalOptions="FillAndExpand"
                                    SelectedItem="{Binding SelectedCard}"
                                    ItemHeightRequest="140"
                                    ItemWidthRequest="230"
                                     Grid.Column="1" Grid.Row="7">
            <control:HorizontalListView.ItemTemplate>
                <DataTemplate>
                    <ContentView Padding="5">
                        <Frame  WidthRequest="220" HeightRequest="130" Margin="10,0" BorderColor="LightGray" CornerRadius="18" HasShadow="True" >
                            <StackLayout>
                                <Label TextColor="Black" FontAttributes="Bold" Text="{Binding Title}" />
                                <Label TextColor="Black"  Text="{Binding Body}"/>
                            </StackLayout>
                        </Frame>
                    </ContentView>
                </DataTemplate>
            </control:HorizontalListView.ItemTemplate>
        </control:HorizontalListView>



    </Grid>
</ContentPage>